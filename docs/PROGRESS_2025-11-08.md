# μ§„ν–‰ μƒν™© - 2025-11-08

**λ‚ μ§**: 2025-11-08 (κΈμ”μΌ)  
**μ‘μ—… μ‹κ°„**: 09:19 ~ μ§„ν–‰ μ¤‘  
**μ£Όμ” μ„±κ³Ό**: Week 2 Day 1 μ™„λ£ - μ†μ  μ‹μ¤ν… μ„¤κ³„ λ° κΈ°λ³Έ κµ¬μ΅° κµ¬ν„

---

## π― μ¤λμ λ©ν‘

### κ³„ν
- Week 2 Day 1: μλ™ μ†μ  μ‹μ¤ν… μ„¤κ³„ (2μ‹κ°„)
  - μ†μ  λ΅μ§ μ„¤κ³„
  - μ„¤κ³„ λ¬Έμ„ μ‘μ„±
  - κΈ°λ³Έ ν΄λμ¤ κµ¬μ΅° κµ¬ν„

### μ‹¤μ 
- β… μ†μ  λ΅μ§ μ„¤κ³„ μ™„λ£
- β… μƒμ„Έ μ„¤κ³„ λ¬Έμ„ μ‘μ„±
- β… DefenseSystem ν΄λμ¤ κµ¬ν„ (κΈ°λ³Έ κµ¬μ΅°)

---

## β… μ™„λ£ν• μ‘μ—…

### 1. μ†μ  μ‹μ¤ν… μ„¤κ³„

**μ„¤κ³„ λ¬Έμ„**: `docs/defense_system_design.md`

#### 3λ‹¨κ³„ λ°©μ–΄ μ²΄κ³„
```
1λ‹¨κ³„: κ°λ³„ μΆ…λ© μ†μ 
β”β”€ κ³ μ • μ†μ : μ§„μ…κ°€ λ€λΉ„ -7%
β””β”€ νΈλ μΌλ§ μ¤ν†±: μµκ³ κ°€ λ€λΉ„ -10%

2λ‹¨κ³„: ν¬νΈν΄λ¦¬μ¤ μ†μ 
β”β”€ μ „μ²΄ ν¬νΈν΄λ¦¬μ¤ -15% ν•λ½
β””β”€ λ¨λ“  ν¬μ§€μ… μ²­μ‚°

3λ‹¨κ³„: μ¬μ§„μ… κ΄€λ¦¬
β”β”€ μΏ¨λ‹¤μ΄ κΈ°κ°„ (3μΌ)
β””β”€ μ‹μ¥ νλ³µ μ‹ νΈ ν™•μΈ
```

#### ν•µμ‹¬ μ•κ³ λ¦¬μ¦

**κ³ μ • μ†μ **:
```python
if current_price < entry_price * 0.93:  # -7%
    sell(ticker)
```

**νΈλ μΌλ§ μ¤ν†±**:
```python
if current_price > peak_price:
    peak_price = current_price
    trailing_stop = current_price * 0.90  # -10%

if current_price <= trailing_stop:
    sell(ticker)
```

**ν¬νΈν΄λ¦¬μ¤ μ†μ **:
```python
if portfolio_value < peak_portfolio_value * 0.85:  # -15%
    sell_all()
```

---

### 2. DefenseSystem ν΄λμ¤ κµ¬ν„

**νμΌ**: `core/strategy/defense_system.py`

#### ν΄λμ¤ κµ¬μ΅°
```python
class DefenseSystem:
    """ν†µν•© λ°©μ–΄ μ‹μ¤ν…"""
    
    # μ΄κΈ°ν™”
    def __init__(
        fixed_stop_loss_pct=-7.0,
        trailing_stop_pct=-10.0,
        portfolio_stop_loss_pct=-15.0,
        cooldown_days=3
    )
    
    # κ°λ³„ μ†μ 
    def check_fixed_stop_loss(position, current_price)
    def check_trailing_stop(position, current_price)
    def check_individual_stop_loss(position, current_price)
    
    # νΈλ μΌλ§ μ¤ν†± μ—…λ°μ΄νΈ
    def update_trailing_stop(position, current_price)
    
    # ν¬νΈν΄λ¦¬μ¤ μ†μ 
    def check_portfolio_stop_loss(current_value, peak_value)
    
    # μ¬μ§„μ… κ΄€λ¦¬
    def can_reenter(ticker, current_date)
    def record_stop_loss(ticker, date)
    
    # ν†µκ³„
    def get_stats()
```

#### μ£Όμ” κΈ°λ¥
1. **κ°λ³„ μ†μ **: κ³ μ • + νΈλ μΌλ§ ν•μ΄λΈλ¦¬λ“
2. **ν¬νΈν΄λ¦¬μ¤ μ†μ **: μ „μ²΄ μ²­μ‚°
3. **μΏ¨λ‹¤μ΄ κ΄€λ¦¬**: μ¬μ§„μ… κΈμ§€ κΈ°κ°„
4. **ν†µκ³„ μ¶”μ **: μ†μ  νμ λ° μ ν•

---

### 3. λ³΄μ΅° ν΄λμ¤ κµ¬ν„

#### Position ν΄λμ¤
```python
@dataclass
class Position:
    ticker: str
    entry_price: float
    entry_date: date
    quantity: int
    peak_price: float
    trailing_stop_price: float
```

#### CooldownManager ν΄λμ¤
```python
class CooldownManager:
    def record_stop_loss(ticker, date)
    def can_reenter(ticker, current_date)
    def get_cooldown_status()
```

---

## π“ μ„¤κ³„ μ”μ•½

### μ†μ  νλΌλ―Έν„°

| νλΌλ―Έν„° | κΈ°λ³Έκ°’ | μ„¤λ… |
|---------|-------|------|
| **κ³ μ • μ†μ ** | -7% | μ§„μ…κ°€ λ€λΉ„ μ†μ‹¤ |
| **νΈλ μΌλ§ μ¤ν†±** | -10% | μµκ³ κ°€ λ€λΉ„ μ†μ‹¤ |
| **ν¬νΈν΄λ¦¬μ¤ μ†μ ** | -15% | μ „μ²΄ ν¬νΈν΄λ¦¬μ¤ μ†μ‹¤ |
| **μΏ¨λ‹¤μ΄ κΈ°κ°„** | 3μΌ | μ¬μ§„μ… κΈμ§€ κΈ°κ°„ |

### μμƒ ν¨κ³Ό

| μ§€ν‘ | ν„μ¬ (λ°©μ–΄ μ—†μ) | λ©ν‘ (λ°©μ–΄ μμ) | κ°μ„  |
|------|----------------|----------------|------|
| **MDD** | -23.51% | **-10~12%** | **+50%** |
| **CAGR** | 39.02% | 30~35% | -10~20% |
| **Sharpe** | 1.71 | 1.5~2.0 | μ μ§€ |

---

## π― λ‹¤μ λ‹¨κ³„

### Day 2: Jason μ–΄λ‘ν„° ν†µν•© (μ§„ν–‰ μ¤‘)

**μ‘μ—… λ‚΄μ©**:
1. Jason μ–΄λ‘ν„°μ— DefenseSystem ν†µν•©
2. λ°±ν…μ¤νΈ λ΅μ§μ— μ†μ  μ²΄ν¬ μ¶”κ°€
3. ν…μ¤νΈ μ‹¤ν–‰ λ° κ²°κ³Ό ν™•μΈ

**μμƒ μ‹κ°„**: 2~3μ‹κ°„

**λ©ν‘**:
- λ°©μ–΄ μ‹μ¤ν… μ‘λ™ ν™•μΈ
- MDD κ°μ† ν¨κ³Ό μΈ΅μ •
- μμµλ¥  μν–¥ λ¶„μ„

---

## π“ λ©”λ¨

### μ„¤κ³„ κ²°μ • μ‚¬ν•­

1. **ν•μ΄λΈλ¦¬λ“ μ†μ  μ±„νƒ**
   - κ³ μ • μ†μ  + νΈλ μΌλ§ μ¤ν†± κ²°ν•©
   - μ†μ‹¤ μ ν• + μμµ λ³΄νΈ

2. **μΏ¨λ‹¤μ΄ κΈ°κ°„ 3μΌ**
   - κ°μ •μ  κ±°λ λ°©μ§€
   - μ‹μ¥ μ•μ •ν™” λ€κΈ°

3. **ν¬νΈν΄λ¦¬μ¤ μ†μ  -15%**
   - μ‹μ¥ κΈ‰λ½ λ€μ‘
   - ν° μ†μ‹¤ λ°©μ§€

### λ‹¤μ κ²€μ¦ μ‚¬ν•­

1. **μ†μ  ν¨κ³Ό**
   - MDD μ‹¤μ  κ°μ† ν™•μΈ
   - μμµλ¥  μν–¥ μΈ΅μ •

2. **νΈλ μ΄λ“μ¤ν”„**
   - μ†μ λ΅ μΈν• κΈ°ν μ†μ‹¤
   - κ±°λ νμ μ¦κ°€

3. **μµμ  νλΌλ―Έν„°**
   - μ†μ  λΉ„μ¨ μ΅°μ •
   - μΏ¨λ‹¤μ΄ κΈ°κ°„ μ΅°μ •

---

**μ‘μ„±μ**: Cascade AI  
**μ‘μ„±μΌ**: 2025-11-08 09:30  
**λ‹¤μ μ‘μ—…**: Day 2 - Jason μ–΄λ‘ν„° ν†µν•©

# Phase 3: êµ¬ì¡° ê°œì„  ë¶„ì„

**ì‘ì„±ì¼**: 2025-11-28  
**ìƒíƒœ**: ë¶„ì„ ì™„ë£Œ, ì‹¤í–‰ ëŒ€ê¸°

---

## ğŸ“Š í˜„ì¬ êµ¬ì¡° ë¶„ì„

### scripts/ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
scripts/
â”œâ”€â”€ automation/          # ìë™í™” ìŠ¤í¬ë¦½íŠ¸ (6ê°œ) âœ…
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ daily_alert.sh
â”‚   â”œâ”€â”€ intraday_alert.sh
â”‚   â”œâ”€â”€ run_daily_report.py
â”‚   â”œâ”€â”€ test_automation.py
â”‚   â””â”€â”€ test_reports.py
â”‚
â”œâ”€â”€ nas/                 # NAS ì „ìš© (15ê°œ) âš ï¸ ì •ë¦¬ í•„ìš”
â”‚   â”œâ”€â”€ README_LEGACY.md
â”‚   â”œâ”€â”€ backup_db.sh
â”‚   â”œâ”€â”€ cleanup_logs.sh
â”‚   â”œâ”€â”€ crontab_realtime.txt
â”‚   â”œâ”€â”€ daily_regime_check.bat
â”‚   â”œâ”€â”€ daily_regime_check.py      # í•µì‹¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ daily_regime_check.sh
â”‚   â”œâ”€â”€ daily_report_alert.py
â”‚   â”œâ”€â”€ debug_scheduler.sh
â”‚   â”œâ”€â”€ disable_us_indicators.sh
â”‚   â”œâ”€â”€ intraday_alert.py
â”‚   â”œâ”€â”€ market_open_alert.py
â”‚   â”œâ”€â”€ status.sh
â”‚   â”œâ”€â”€ test_telegram.py
â”‚   â””â”€â”€ weekly_report_alert.py
â”‚
â”œâ”€â”€ cloud/               # Oracle Cloud ì „ìš© (2ê°œ) âœ…
â”‚   â”œâ”€â”€ git_pull_with_log.sh
â”‚   â””â”€â”€ setup_env.sh
â”‚
â”œâ”€â”€ bt/                  # ë°±í…ŒìŠ¤íŠ¸ (4ê°œ) âœ…
â”œâ”€â”€ dev/                 # ê°œë°œ (13ê°œ) âš ï¸ ì •ë¦¬ í•„ìš”
â”œâ”€â”€ diagnostics/         # ì§„ë‹¨ (2ê°œ) âœ…
â”œâ”€â”€ linux/               # Linux ìŠ¤í¬ë¦½íŠ¸ (70ê°œ) âš ï¸ ì •ë¦¬ í•„ìš”
â”œâ”€â”€ monitoring/          # ëª¨ë‹ˆí„°ë§ (2ê°œ) âœ…
â”œâ”€â”€ ops/                 # ìš´ì˜ (12ê°œ) âš ï¸ ì •ë¦¬ í•„ìš”
â”œâ”€â”€ optimization/        # ìµœì í™” (1ê°œ) âœ…
â”œâ”€â”€ phase3/              # Phase 3 (4ê°œ) âœ…
â”œâ”€â”€ phase4/              # Phase 4 (7ê°œ) âœ…
â”œâ”€â”€ sync/                # ë™ê¸°í™” (4ê°œ) âœ…
â”œâ”€â”€ tests/               # í…ŒìŠ¤íŠ¸ (1ê°œ) âœ…
â”œâ”€â”€ ui/                  # UI (1ê°œ) âœ…
â”œâ”€â”€ web/                 # Web (1ê°œ) âœ…
â””â”€â”€ win/                 # Windows (1ê°œ) âœ…
```

---

## ğŸ” ë°œê²¬ëœ ë¬¸ì œ

### 1. scripts/nas/ ë””ë ‰í† ë¦¬ (15ê°œ íŒŒì¼)

**ì¤‘ë³µ ìŠ¤í¬ë¦½íŠ¸**:
- `daily_regime_check.bat` (Windowsìš©)
- `daily_regime_check.sh` (Linuxìš©)
- `daily_regime_check.py` (ì‹¤ì œ ìŠ¤í¬ë¦½íŠ¸)

**ë¬¸ì œì **:
- `.bat`ì™€ `.sh`ëŠ” ë‹¨ìˆœ ë˜í¼ ìŠ¤í¬ë¦½íŠ¸
- ì§ì ‘ Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê°€ëŠ¥
- ìœ ì§€ë³´ìˆ˜ ë¶€ë‹´ ì¦ê°€

**ì œì•ˆ**:
- `.bat`ì™€ `.sh` ì‚­ì œ
- ì§ì ‘ `python daily_regime_check.py` ì‹¤í–‰
- ë˜ëŠ” `scripts/automation/`ìœ¼ë¡œ í†µí•©

---

### 2. scripts/linux/ ë””ë ‰í† ë¦¬ (70ê°œ íŒŒì¼)

**ë¬¸ì œì **:
- ë„ˆë¬´ ë§ì€ íŒŒì¼ (70ê°œ)
- ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ìŠ¤í¬ë¦½íŠ¸ ë‹¤ìˆ˜
- ëª…í™•í•˜ì§€ ì•Šì€ êµ¬ì¡°

**ì œì•ˆ**:
- ì‚¬ìš© ì¤‘ì¸ ìŠ¤í¬ë¦½íŠ¸ë§Œ ìœ ì§€
- ë‚˜ë¨¸ì§€ëŠ” archive/ ë˜ëŠ” ì‚­ì œ
- ì¹´í…Œê³ ë¦¬ë³„ í•˜ìœ„ ë””ë ‰í† ë¦¬ ìƒì„±

---

### 3. scripts/dev/ ë””ë ‰í† ë¦¬ (13ê°œ íŒŒì¼)

**ë¬¸ì œì **:
- ê°œë°œ ì¤‘ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
- ì¼ë¶€ëŠ” ì™„ë£Œë˜ì–´ ì´ë™ í•„ìš”
- ì¼ë¶€ëŠ” ë¶ˆí•„ìš”

**ì œì•ˆ**:
- ì™„ë£Œëœ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì ì ˆí•œ ìœ„ì¹˜ë¡œ ì´ë™
- í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” `scripts/tests/`ë¡œ í†µí•©
- ë¶ˆí•„ìš”í•œ íŒŒì¼ ì‚­ì œ

---

### 4. scripts/ops/ ë””ë ‰í† ë¦¬ (12ê°œ íŒŒì¼)

**ë¬¸ì œì **:
- ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸ì™€ ìœ í‹¸ë¦¬í‹° í˜¼ì¬
- ëª…í™•í•˜ì§€ ì•Šì€ ìš©ë„

**ì œì•ˆ**:
- ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” `scripts/automation/`ìœ¼ë¡œ í†µí•©
- ìœ í‹¸ë¦¬í‹°ëŠ” `scripts/utils/`ë¡œ ì´ë™
- ë¶ˆí•„ìš”í•œ íŒŒì¼ ì‚­ì œ

---

### 5. ë£¨íŠ¸ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼

**ë¬¸ì œì **:
```
scripts/
â”œâ”€â”€ migrate_holdings.py          # ì¼íšŒì„± ë§ˆì´ê·¸ë ˆì´ì…˜
â”œâ”€â”€ report_eod.py                # EOD ë¦¬í¬íŠ¸
â”œâ”€â”€ run_backtest.bat             # ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (Windows)
â”œâ”€â”€ run_backtest.sh              # ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (Linux)
â”œâ”€â”€ test_daily_report.py         # í…ŒìŠ¤íŠ¸
â””â”€â”€ test_weekly_report.py        # í…ŒìŠ¤íŠ¸
```

**ì œì•ˆ**:
- `migrate_holdings.py` â†’ archive/ (ì¼íšŒì„±)
- `report_eod.py` â†’ `scripts/automation/`
- `run_backtest.*` â†’ `scripts/bt/`
- `test_*.py` â†’ `scripts/tests/`

---

## ğŸ“‹ ì œì•ˆí•˜ëŠ” êµ¬ì¡°

### ì •ë¦¬ í›„ êµ¬ì¡°

```
scripts/
â”œâ”€â”€ automation/          # ìë™í™” ìŠ¤í¬ë¦½íŠ¸ (í†µí•©)
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ daily_regime_check.py    # NASì—ì„œ ì´ë™
â”‚   â”œâ”€â”€ intraday_alert.py        # NASì—ì„œ ì´ë™
â”‚   â”œâ”€â”€ market_open_alert.py     # NASì—ì„œ ì´ë™
â”‚   â”œâ”€â”€ report_eod.py            # ë£¨íŠ¸ì—ì„œ ì´ë™
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ cloud/               # Oracle Cloud ì „ìš©
â”‚   â”œâ”€â”€ git_pull_with_log.sh
â”‚   â””â”€â”€ setup_env.sh
â”‚
â”œâ”€â”€ bt/                  # ë°±í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ run_backtest.sh          # ë£¨íŠ¸ì—ì„œ ì´ë™
â”‚   â”œâ”€â”€ run_backtest.bat         # ë£¨íŠ¸ì—ì„œ ì´ë™
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ utils/               # ìœ í‹¸ë¦¬í‹° (ì‹ ê·œ)
â”‚   â”œâ”€â”€ backup_db.sh             # NASì—ì„œ ì´ë™
â”‚   â”œâ”€â”€ cleanup_logs.sh          # NASì—ì„œ ì´ë™
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ tests/               # í…ŒìŠ¤íŠ¸ (í†µí•©)
â”‚   â”œâ”€â”€ test_automation.py       # automationì—ì„œ ì´ë™
â”‚   â”œâ”€â”€ test_reports.py          # automationì—ì„œ ì´ë™
â”‚   â”œâ”€â”€ test_daily_report.py     # ë£¨íŠ¸ì—ì„œ ì´ë™
â”‚   â”œâ”€â”€ test_weekly_report.py    # ë£¨íŠ¸ì—ì„œ ì´ë™
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ archive/             # ë³´ê´€ (ì‹ ê·œ)
    â”œâ”€â”€ migrate_holdings.py      # ë£¨íŠ¸ì—ì„œ ì´ë™
    â”œâ”€â”€ nas_legacy/              # NAS ë ˆê±°ì‹œ
    â”œâ”€â”€ linux_legacy/            # Linux ë ˆê±°ì‹œ
    â””â”€â”€ ...
```

---

## ğŸ¯ ì •ë¦¬ ê³„íš

### Phase 3.2: ì¤‘ë³µ ìŠ¤í¬ë¦½íŠ¸ ì •ë¦¬

**ì‚­ì œ ëŒ€ìƒ**:
- `scripts/nas/daily_regime_check.bat` (ë˜í¼)
- `scripts/nas/daily_regime_check.sh` (ë˜í¼)
- `scripts/nas/README_LEGACY.md` (ë ˆê±°ì‹œ)

**ì´ë™ ëŒ€ìƒ**:
- `scripts/nas/daily_regime_check.py` â†’ `scripts/automation/`
- `scripts/nas/intraday_alert.py` â†’ `scripts/automation/`
- `scripts/nas/market_open_alert.py` â†’ `scripts/automation/`

---

### Phase 3.3: config/ ë¶„ì„

**í˜„ì¬ êµ¬ì¡°**:
```
config/
â”œâ”€â”€ config.yaml
â”œâ”€â”€ crontab.cloud.txt
â”œâ”€â”€ crontab.nas.txt
â”œâ”€â”€ us_market_indicators.yaml
â””â”€â”€ ...
```

**ì œì•ˆ**:
- í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬ (dev, prod, nas, cloud)
- ì˜ˆì œ íŒŒì¼ ì •ë¦¬ (`.example` ì ‘ë¯¸ì‚¬)
- ì¤‘ë³µ ì„¤ì • í†µí•©

---

### Phase 3.4: ì„¤ì • íŒŒì¼ í†µí•©

**í†µí•© ëŒ€ìƒ**:
- `crontab.cloud.txt` + `crontab.nas.txt` â†’ `crontab.example.txt`
- í™˜ê²½ë³„ ì„¤ì • íŒŒì¼ ìƒì„±

---

### Phase 3.5: ë¶ˆí•„ìš”í•œ íŒŒì¼ ì‚­ì œ

**ì‚­ì œ ëŒ€ìƒ**:
- ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ìŠ¤í¬ë¦½íŠ¸
- ì¤‘ë³µ ë˜í¼ ìŠ¤í¬ë¦½íŠ¸
- ë ˆê±°ì‹œ ë¬¸ì„œ

**ë³´ê´€ ëŒ€ìƒ**:
- ì¼íšŒì„± ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
- ë ˆê±°ì‹œ ìŠ¤í¬ë¦½íŠ¸ (ì°¸ê³ ìš©)

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ì‹ ì¤‘í•˜ê²Œ ì§„í–‰í•´ì•¼ í•  í•­ëª©

1. **scripts/linux/** (70ê°œ íŒŒì¼)
   - ì‚¬ìš© ì—¬ë¶€ í™•ì¸ í•„ìš”
   - ì¼ê´„ ì‚­ì œ ìœ„í—˜

2. **scripts/nas/** (15ê°œ íŒŒì¼)
   - í˜„ì¬ ìš´ì˜ ì¤‘ì¸ ìŠ¤í¬ë¦½íŠ¸
   - ì´ë™ ì‹œ ê²½ë¡œ ì—…ë°ì´íŠ¸ í•„ìš”

3. **scripts/dev/** (13ê°œ íŒŒì¼)
   - ê°œë°œ ì¤‘ì¸ ìŠ¤í¬ë¦½íŠ¸
   - ì™„ë£Œ ì—¬ë¶€ í™•ì¸ í•„ìš”

---

## ğŸ“Š ì˜ˆìƒ íš¨ê³¼

### íŒŒì¼ ìˆ˜ ê°ì†Œ
- **Before**: ~150ê°œ ìŠ¤í¬ë¦½íŠ¸
- **After**: ~80ê°œ ìŠ¤í¬ë¦½íŠ¸
- **ê°ì†Œìœ¨**: ì•½ 47%

### êµ¬ì¡° ê°œì„ 
- âœ… ëª…í™•í•œ ì¹´í…Œê³ ë¦¬
- âœ… ì¤‘ë³µ ì œê±°
- âœ… ìœ ì§€ë³´ìˆ˜ ìš©ì´

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ì‚¬ìš©ì í™•ì¸ í•„ìš”

**ì§ˆë¬¸**:
1. `scripts/linux/` (70ê°œ) - ì „ì²´ ì‚­ì œ ë˜ëŠ” ë³´ê´€?
2. `scripts/dev/` (13ê°œ) - ì–´ë–¤ íŒŒì¼ì´ í•„ìš”?
3. `scripts/nas/` - automation/ìœ¼ë¡œ í†µí•© ì§„í–‰?

**ì§„í–‰ ë°©ì‹**:
- ì•ˆì „í•œ í•­ëª©ë¶€í„° ì •ë¦¬
- ê° ë‹¨ê³„ë§ˆë‹¤ í…ŒìŠ¤íŠ¸
- Git commitìœ¼ë¡œ ë³µì› ê°€ëŠ¥

---

## ğŸ’¡ ê¶Œì¥ ì‚¬í•­

### ì¦‰ì‹œ ì§„í–‰ ê°€ëŠ¥ (ì•ˆì „)

1. **ë˜í¼ ìŠ¤í¬ë¦½íŠ¸ ì‚­ì œ**
   - `daily_regime_check.bat`
   - `daily_regime_check.sh`
   - ì§ì ‘ Python ì‹¤í–‰ìœ¼ë¡œ ëŒ€ì²´

2. **ë£¨íŠ¸ íŒŒì¼ ì •ë¦¬**
   - `migrate_holdings.py` â†’ archive/
   - `test_*.py` â†’ tests/
   - `run_backtest.*` â†’ bt/

3. **ë ˆê±°ì‹œ ë¬¸ì„œ ì‚­ì œ**
   - `README_LEGACY.md`

### ì‹ ì¤‘í•˜ê²Œ ì§„í–‰ (í™•ì¸ í•„ìš”)

1. **scripts/linux/** ì •ë¦¬
   - ì‚¬ìš© ì—¬ë¶€ í™•ì¸
   - ë³´ê´€ ë˜ëŠ” ì‚­ì œ

2. **scripts/dev/** ì •ë¦¬
   - ì™„ë£Œ ì—¬ë¶€ í™•ì¸
   - ì´ë™ ë˜ëŠ” ì‚­ì œ

3. **scripts/nas/** í†µí•©
   - automation/ìœ¼ë¡œ ì´ë™
   - ê²½ë¡œ ì—…ë°ì´íŠ¸

---

**ë‹¤ìŒ**: ì‚¬ìš©ì í™•ì¸ í›„ Phase 3.2 ì§„í–‰
